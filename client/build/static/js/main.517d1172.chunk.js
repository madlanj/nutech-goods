(this["webpackJsonpfrontend-nutech-goods"]=this["webpackJsonpfrontend-nutech-goods"]||[]).push([[1],{14:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(27),r=n(28),o=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"getThumbnail",value:function(e){return[window.origin,e].join("/")}},{key:"getToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"get",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{switch(e){case"get":default:return localStorage.getItem("token")?localStorage.getItem("token"):null;case"set":localStorage.setItem("token",t);break;case"remove":return!localStorage.getItem("token")||(localStorage.removeItem("token"),!0)}}catch(n){return null}}}]),e}()},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}));var a="SIGN_IN",r="SIGN_IN_SUCCESS",o="SIGN_IN_ERROR"},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a,r=n(8),o=n(21),i=n(5),u=n(27),c=n(28),l=n(14),d=n(29),s=n.n(d),v=window.origin,f=null;if(localStorage.getItem("token"))try{var p=localStorage.getItem("token");"undefined"!==typeof p&&(f=p)}catch(m){f=""}var g={Authorization:null!==(a=l.a.getToken())&&void 0!==a?a:f},b=s.a.create({baseURL:v,headers:Object(i.a)({},g)});b.isCancel=s.a.isCancel,b.interceptors.response.use((function(e){return new Promise((function(t,n){"Unauthorized"===e.data.error?console.log("gues"):t(e)}))}),(function(e){return e.response?(e.response.status,new Promise((function(t,n){n(e)}))):new Promise((function(t,n){n(e)}))}));var h=b,j=function(){function e(){var t,n,a,r,o,c,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(u.a)(this,e),this.url=null!==(t=null===d||void 0===d?void 0:d.url)&&void 0!==t?t:"/",this.body=null!==(n=null===d||void 0===d?void 0:d.body)&&void 0!==n?n:"",this.config=Object(i.a)(Object(i.a)({},null===d||void 0===d?void 0:d.config),{},{params:null!==(a=null===d||void 0===d||null===(r=d.config)||void 0===r?void 0:r.params)&&void 0!==a?a:{},headers:null!==(o=null===d||void 0===d||null===(c=d.config)||void 0===c?void 0:c.headers)&&void 0!==o?o:{Authorization:"Bearer ".concat(l.a.getToken("get"))}})}return Object(c.a)(e,[{key:"get",value:function(){var e=Object(o.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get(this.url,Object(i.a)({},this.config)).then((function(e){var t=null===e||void 0===e?void 0:e.data,n={};return"undefined"!==typeof(null===t||void 0===t?void 0:t.pagination)&&Reflect.set(n,"pagination",null===t||void 0===t?void 0:t.pagination),"undefined"!==typeof(null===t||void 0===t?void 0:t.query)&&Reflect.set(n,"params",null===t||void 0===t?void 0:t.query),"undefined"!==typeof(null===t||void 0===t?void 0:t.params)&&Reflect.set(n,"params",null===t||void 0===t?void 0:t.params),"undefined"!==typeof(null===t||void 0===t?void 0:t.data)&&Reflect.set(n,"data",null===t||void 0===t?void 0:t.data),"undefined"!==typeof(null===t||void 0===t?void 0:t.error)&&Reflect.set(n,"error",null===t||void 0===t?void 0:t.error),"undefined"!==typeof(null===t||void 0===t?void 0:t.message)&&Reflect.set(n,"message",null===t||void 0===t?void 0:t.message),n})).catch((function(e){return{error:!0,message:e.message,data:null}}));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,message:e.t0.message,data:null});case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(o.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.post(this.url,this.body,Object(i.a)({},this.config)).then((function(e){var t=null===e||void 0===e?void 0:e.data,n={};return"undefined"!==typeof(null===t||void 0===t?void 0:t.pagination)&&Reflect.set(n,"pagination",null===t||void 0===t?void 0:t.pagination),"undefined"!==typeof(null===t||void 0===t?void 0:t.query)&&Reflect.set(n,"params",null===t||void 0===t?void 0:t.query),"undefined"!==typeof(null===t||void 0===t?void 0:t.params)&&Reflect.set(n,"params",null===t||void 0===t?void 0:t.params),"undefined"!==typeof(null===t||void 0===t?void 0:t.data)&&Reflect.set(n,"data",null===t||void 0===t?void 0:t.data),"undefined"!==typeof(null===t||void 0===t?void 0:t.error)&&Reflect.set(n,"error",null===t||void 0===t?void 0:t.error),"undefined"!==typeof(null===t||void 0===t?void 0:t.message)&&Reflect.set(n,"message",null===t||void 0===t?void 0:t.message),n})).catch((function(e){return{error:!0,message:e.message,data:null}}));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,message:e.t0.message,data:null});case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(o.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.put(this.url,this.body,Object(i.a)({},this.config)).then((function(e){var t=null===e||void 0===e?void 0:e.data,n={};return"undefined"!==typeof(null===t||void 0===t?void 0:t.pagination)&&Reflect.set(n,"pagination",null===t||void 0===t?void 0:t.pagination),"undefined"!==typeof(null===t||void 0===t?void 0:t.query)&&Reflect.set(n,"params",null===t||void 0===t?void 0:t.query),"undefined"!==typeof(null===t||void 0===t?void 0:t.params)&&Reflect.set(n,"params",null===t||void 0===t?void 0:t.params),"undefined"!==typeof(null===t||void 0===t?void 0:t.data)&&Reflect.set(n,"data",null===t||void 0===t?void 0:t.data),"undefined"!==typeof(null===t||void 0===t?void 0:t.error)&&Reflect.set(n,"error",null===t||void 0===t?void 0:t.error),"undefined"!==typeof(null===t||void 0===t?void 0:t.message)&&Reflect.set(n,"message",null===t||void 0===t?void 0:t.message),n})).catch((function(e){return{error:!0,message:e.message,data:null}}));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,message:e.t0.message,data:null});case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(o.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.delete(this.url,Object(i.a)({},this.config)).then((function(e){var t=null===e||void 0===e?void 0:e.data,n={};return"undefined"!==typeof(null===t||void 0===t?void 0:t.pagination)&&Reflect.set(n,"pagination",null===t||void 0===t?void 0:t.pagination),"undefined"!==typeof(null===t||void 0===t?void 0:t.query)&&Reflect.set(n,"params",null===t||void 0===t?void 0:t.query),"undefined"!==typeof(null===t||void 0===t?void 0:t.params)&&Reflect.set(n,"params",null===t||void 0===t?void 0:t.params),"undefined"!==typeof(null===t||void 0===t?void 0:t.data)&&Reflect.set(n,"data",null===t||void 0===t?void 0:t.data),"undefined"!==typeof(null===t||void 0===t?void 0:t.error)&&Reflect.set(n,"error",null===t||void 0===t?void 0:t.error),"undefined"!==typeof(null===t||void 0===t?void 0:t.message)&&Reflect.set(n,"message",null===t||void 0===t?void 0:t.message),n})).catch((function(e){return{error:!0,message:e.message,data:null}}));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,message:e.t0.message,data:null});case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()}]),e}()},36:function(e,t,n){},48:function(e,t,n){"use strict";var a=n(5),r=n(49),o=n(1),i=n.n(o),u=n(23),c=n(6),l=n(11),d=n(7),s=["component","isAuthenticated","token","loading"],v=function(e){var t=e.component,n=e.isAuthenticated,o=e.token,i=e.loading,u=Object(r.a)(e,s);return console.log({isAuthenticated:n,token:o,loading:i}),Object(d.jsx)(c.b,Object(a.a)(Object(a.a)({},u),{},{history:l.a,render:function(e){return i?"Loading...":n?Object(d.jsx)(c.a,{to:{pathname:"/"}}):Object(d.jsx)(t,Object(a.a)({},e))}}))};t.a=Object(u.b)((function(e){var t=e.auth;return{isAuthenticated:t.isAuthenticated,loading:t.loading,token:t.token}}),{})(i.a.memo(v))},87:function(e,t,n){"use strict";n.r(t);var a=n(1),r=(n(36),n(25)),o=n.n(r),i=n(23),u=n(20),c=n(17),l=n(5),d=n(14),s={auth:{initialState:{loading:!1,message:null,token:d.a.getToken("get"),isAuthenticated:!!d.a.getToken("get")},logout:function(e,t){return d.a.getToken("remove"),Object(l.a)(Object(l.a)({},e),{},{token:null,isAuthenticated:!1})},login:{post:function(e,t){return Object(l.a)(Object(l.a)({},e),{},{loading:!0,message:null})},success:function(e,t){var n,a;return d.a.getToken("set",null===t||void 0===t?void 0:t.data),Object(l.a)(Object(l.a)({},e),{},{loading:!1,message:null!==(n=null===t||void 0===t?void 0:t.message)&&void 0!==n?n:null,token:null!==(a=null===t||void 0===t?void 0:t.data)&&void 0!==a?a:null,isAuthenticated:!0})},error:function(e,t){var n;return Object(l.a)(Object(l.a)({},e),{},{loading:!1,message:null!==(n=null===t||void 0===t?void 0:t.message)&&void 0!==n?n:null,token:null,isAuthenticated:!1})}}}},v=n(16),f=Object(c.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.auth.initialState,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case v.a:return s.auth.login.post(e,t);case v.c:return s.auth.login.success(e,t);case v.b:return s.auth.login.error(e,t);case"SIGN_OUT":return s.auth.logout(e,t);default:return e}}}),p=f,g=n(52),b=n(8),h=n(15),j=n(34),m=Object(b.a)().mark(y),O=Object(b.a)().mark(k);function y(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.e)(v.a,Object(b.a)().mark((function e(t){var n,a,r,o;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.formdata,e.prev=1,e.next=4,Object(h.b)((function(){return new Promise((function(e){e(new j.a({url:"/api/v1/auth/signin",body:n,config:{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(d.a.getToken("get"))}}}).post())}))}));case 4:if(null!==(a=e.sent)&&void 0!==a&&a.error){e.next=10;break}return e.next=8,Object(h.d)(Object(l.a)({type:v.c},a));case 8:e.next=12;break;case 10:return e.next=12,Object(h.d)({type:v.b,message:null!==(r=null===a||void 0===a?void 0:a.message)&&void 0!==r?r:null});case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(1),e.next=18,Object(h.d)({type:v.b,message:null!==(o=null===e.t0||void 0===e.t0?void 0:e.t0.message)&&void 0!==o?o:null});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));case 2:case"end":return e.stop()}}),m)}function k(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)([Object(h.c)(y)]);case 2:case"end":return e.stop()}}),O)}var x=Object(b.a)().mark(w);function w(e){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)([k()]);case 2:case"end":return e.stop()}}),x)}var R=Object(g.a)(),S=[R];var I=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.c,n=Object(c.d)(p,e,t(c.a.apply(void 0,S)));return R.run(w),n}(),A=n(6),T=n(48),_=n(7),N=Object(A.i)((function(e){return Object(_.jsx)(a.Suspense,{fallback:Object(_.jsx)("div",{children:"loading..."}),children:Object(_.jsxs)(A.d,{children:[Object(_.jsx)(A.b,{path:"/app",component:Object(a.lazy)((function(){return n.e(8).then(n.bind(null,100))}))}),Object(_.jsx)(T.a,{path:"/auth",component:Object(a.lazy)((function(){return n.e(10).then(n.bind(null,95))}))}),Object(_.jsx)(A.b,{path:"/",children:Object(_.jsx)(A.a,{to:"/app"})})]})})}));var q=function(){return Object(_.jsx)("div",{className:"App",children:Object(_.jsx)(i.a,{store:I,children:Object(_.jsx)(u.a,{children:Object(_.jsx)(A.d,{children:Object(_.jsx)(A.b,{path:"/",component:N})})})})})};n(86);o.a.render(Object(_.jsx)(q,{}),document.getElementById("root"))}},[[87,2,3]]]);
//# sourceMappingURL=main.517d1172.chunk.js.map