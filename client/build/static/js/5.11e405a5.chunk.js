(this["webpackJsonpfrontend-nutech-goods"]=this["webpackJsonpfrontend-nutech-goods"]||[]).push([[5],{88:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a.d(t,"a",(function(){return n}))},89:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(88);function c(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n.a)(e,t):void 0}}},90:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(89);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,c,r=[],s=!0,l=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(i){l=!0,c=i}finally{try{s||null==a.return||a.return()}finally{if(l)throw c}}return r}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},91:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return r}));var n=a(16),c=function(e){return{type:n.a,formdata:e}},r=function(){return{type:"SIGN_OUT"}}},92:function(e,t,a){"use strict";var n=a(8),c=a(21),r=(a(1),a(29),a(6)),s=a(14),l=a(23),i=a(91),o=a(7),u=function(e){var t=Object(r.g)(),a=e.SignOut,l=function(){var e=Object(c.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(),s.a.getToken("remove");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsx)("nav",{className:"navbar is-light",role:"navigation","aria-label":"main navigation",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("div",{className:"navbar-brand"}),Object(o.jsxs)("div",{id:"navbarBasicExample",className:"navbar-menu",children:[Object(o.jsx)("div",{className:"navbar-start",children:Object(o.jsx)("a",{onClick:function(){t.push("/")},className:"navbar-item",children:"Home"})}),Object(o.jsx)("div",{className:"navbar-end",children:Object(o.jsx)("div",{className:"navbar-item",children:Object(o.jsx)("div",{className:"buttons",children:Object(o.jsx)("button",{onClick:l,className:"button is-light",children:"Log Out"})})})})]})]})})};u.defaultProps={},t.a=Object(l.b)((function(){return{}}),{SignOut:i.b})(u)},98:function(e,t,a){"use strict";a.r(t);var n=a(35),c=a(8),r=a(5),s=a(21),l=a(90),i=a(1),o=a(34),u=a(92),d=a(6),b=a(14),j=a(7);t.default=function(e){var t=Object(d.h)().id,a=Object(i.useState)({}),v=Object(l.a)(a,2),m=v[0],h=v[1],f=Object(i.useState)(!1),p=Object(l.a)(f,2),O=p[0],x=p[1],g=Object(i.useState)(!1),N=Object(l.a)(g,2),y=(N[0],N[1],Object(i.useState)("")),S=Object(l.a)(y,2),k=S[0],w=S[1],C=Object(d.g)(),U=Object(i.useState)("https://fakeimg.pl/350x200/"),P=Object(l.a)(U,2),A=P[0],B=P[1],H=Object(i.useState)(null),L=Object(l.a)(H,2),E=L[0],I=L[1],J=Object(i.useState)((function(){var e,t,a,n;return"undefined"!==typeof(null===m||void 0===m?void 0:m.title)?{title:null!==(e=null===m||void 0===m?void 0:m.title)&&void 0!==e?e:"",purchasePrice:null!==(t=null===m||void 0===m?void 0:m.purchasePrice)&&void 0!==t?t:"",purchaseSell:null!==(a=null===m||void 0===m?void 0:m.purchaseSell)&&void 0!==a?a:"",stock:null!==(n=null===m||void 0===m?void 0:m.stock)&&void 0!==n?n:""}:{title:"",purchasePrice:"",purchaseSell:"",stock:""}})),T=Object(l.a)(J,2),R=T[0],D=T[1];Object(i.useEffect)((function(){Object(s.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new o.a({url:"/api/v1/goods/".concat(t)}).get().then((function(e){var t,a,n;h(null!==(t=null===e||void 0===e?void 0:e.data)&&void 0!==t?t:{}),B(null!==(a=b.a.getThumbnail(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.image))&&void 0!==a?a:"https://fakeimg.pl/350x200/"),D(Object(r.a)(Object(r.a)({},R),e.data)),x(!1)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})))()}),[h,D,B]);var G=function(e){D(Object(r.a)(Object(r.a)({},R),{},Object(n.a)({},e.target.name,e.target.value)))};var F=function(){var e=Object(s.a)(Object(c.a)().mark((function e(a){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,n=new URLSearchParams,Object.keys(R).map((function(e){n.append(e,R[e])})),e.next=6,new o.a({url:"/api/v1/goods/".concat(t),body:n}).put().then((function(e){var t;null!==e&&void 0!==e&&e.error?alert(null!==(t=null===e||void 0===e?void 0:e.message)&&void 0!==t?t:"Some Error"):E?M(e.data.id):(alert("Success Updated!"),C.push("/"))})).catch((function(e){alert(e.message)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.response&&w(e.t0.response.errors);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(s.a)(Object(c.a)().mark((function e(t){var a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("image",E),e.next=4,new o.a({url:"/api/v1/goods/image/".concat(t),body:a}).put().then((function(e){null!==e&&void 0!==e&&e.error||(alert("Success Updated!"),C.push("/"))})).catch((function(e){}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return O?"Loading...":Object(j.jsxs)("div",{children:[Object(j.jsx)(u.a,{}),Object(j.jsx)("div",{className:"container mt-5",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"columns is-centered",children:Object(j.jsx)("div",{className:"column is-4-desktop",children:Object(j.jsxs)("form",{onSubmit:F,className:"box",children:[Object(j.jsx)("p",{className:"has-text-centered",children:k}),Object(j.jsxs)("div",{className:"field mt-5",children:[Object(j.jsx)("label",{className:"label",children:"Gambar Barang"}),Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:A,className:"img-thumbnail",alt:"..."})}),Object(j.jsx)("div",{className:"file has-name is-fullwidth",children:Object(j.jsxs)("label",{className:"file-label",children:[Object(j.jsx)("input",{className:"file-input",name:"image",onChange:function(e){var t=e.target.files[0];B(URL.createObjectURL(t)),I(t)},type:"file"}),Object(j.jsxs)("span",{className:"file-cta",children:[Object(j.jsx)("span",{className:"file-icon",children:Object(j.jsx)("i",{className:"fas fa-upload"})}),Object(j.jsx)("span",{className:"file-label",children:"Choose a file\u2026"})]}),Object(j.jsx)("span",{className:"file-name",children:"...."})]})})]}),Object(j.jsxs)("div",{className:"field mt-5",children:[Object(j.jsx)("label",{className:"label",children:"Nama Barang"}),Object(j.jsx)("div",{className:"controls",children:Object(j.jsx)("input",{value:null===R||void 0===R?void 0:R.title,type:"text",className:"input",placeholder:"Nama Barang",name:"title",onChange:G,disabled:!0})})]}),Object(j.jsxs)("div",{className:"field mt-5",children:[Object(j.jsx)("label",{className:"label",children:"Harga Beli"}),Object(j.jsx)("div",{className:"controls",children:Object(j.jsx)("input",{value:null===R||void 0===R?void 0:R.purchasePrice,type:"number",className:"input",placeholder:"Harga Beli",name:"purchasePrice",onChange:G})})]}),Object(j.jsxs)("div",{className:"field mt-5",children:[Object(j.jsx)("label",{className:"label",children:"Harga Jual"}),Object(j.jsx)("div",{className:"controls",children:Object(j.jsx)("input",{value:null===R||void 0===R?void 0:R.purchaseSell,type:"number",className:"input",placeholder:"Harga Jual",name:"purchaseSell",onChange:G})})]}),Object(j.jsxs)("div",{className:"field mt-5",children:[Object(j.jsx)("label",{className:"label",children:"Stok"}),Object(j.jsx)("div",{className:"controls",children:Object(j.jsx)("input",{value:null===R||void 0===R?void 0:R.stock,type:"number",className:"input",placeholder:"Stok",name:"stock",onChange:G})})]}),Object(j.jsx)("div",{className:"field mt-5",children:Object(j.jsx)("button",{className:"button is-success is-fullwidth",children:"Update"})})]})})})})})]})}}}]);
//# sourceMappingURL=5.11e405a5.chunk.js.map