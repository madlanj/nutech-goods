{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","redux/action/auth.js","components/Navbar.js","views/app-views/product/product-add/index.js"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","from","test","_slicedToArray","isArray","_i","Symbol","iterator","_s","_e","_arr","_n","_d","next","done","push","value","err","unsupportedIterableToArray","TypeError","PostLogin","formdata","type","SIGN_IN","SignOut","Navbar","props","history","useHistory","Logout","Utils","getToken","className","role","id","onClick","defaultProps","connect","ProductAdd","useState","loading","msg","setMsg","image","setImage","saveImage","setSaveImage","title","purchasePrice","purchaseSell","stock","formData","setFormData","handleChange","e","target","handleAdd","preventDefault","URLSearchParams","keys","map","key","append","Reflect","deleteProperty","ApiService","url","body","post","then","response","error","alert","message","handleUpdate","data","catch","errors","console","log","upload","FormData","put","onSubmit","src","alt","onChange","uploaded","files","URL","createObjectURL","placeholder"],"mappings":"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","file":"static/js/4.8189c269.chunk.js","sourcesContent":["export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { SIGN_IN } from \"../constants\";\r\n\r\nexport const PostLogin = (formdata)=> ({\r\n    type: SIGN_IN,\r\n    formdata\r\n})\r\n\r\n\r\nexport const SignOut = ()=> ({\r\n    type: \"SIGN_OUT\"\r\n})","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport axios from 'axios';\r\nimport { useHistory  } from 'react-router-dom';\r\nimport Utils from '../utils';\r\nimport { connect } from 'react-redux';\r\nimport { SignOut } from '../redux/action/auth';\r\n \r\nconst Navbar = (props) => {\r\n    const history = useHistory()\r\n    let { SignOut } = props\r\n\r\n    const home = () => {\r\n        history.push('/');\r\n    }\r\n    const Logout = async () => {\r\n        SignOut()\r\n        Utils.getToken('remove')\r\n    }\r\n \r\n    return (\r\n        <nav className=\"navbar is-light\" role=\"navigation\" aria-label=\"main navigation\">\r\n            <div className=\"container\">\r\n                <div className=\"navbar-brand\">\r\n                \r\n \r\n                   \r\n                </div>\r\n \r\n                <div id=\"navbarBasicExample\" className=\"navbar-menu\">\r\n                    <div className=\"navbar-start\">\r\n                        <a onClick={home} className=\"navbar-item\">\r\n                            Home\r\n                        </a>\r\n                    </div>\r\n \r\n                    <div className=\"navbar-end\">\r\n                        <div className=\"navbar-item\">\r\n                            <div className=\"buttons\">\r\n                                <button onClick={Logout} className=\"button is-light\">\r\n                                    Log Out\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n Navbar.propTypes = {\r\n    SignOut: PropTypes.func.isRequired\r\n }\r\n Navbar.defaultProps = {}\r\nexport default connect(()=> {\r\n    return {}\r\n},{SignOut})(Navbar)","import React,{useState,useEffect} from 'react'\r\nimport ApiService from '../../../../service/api.service';\r\nimport Navbar from '../../../../components/Navbar';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst ProductAdd = props => {\r\n    const [data,setData] = useState([])\r\n    const [loading,setLoading] = useState(false)\r\n    const [errors,setErrors] = useState(false)\r\n    const [msg, setMsg] = useState('');\r\n    const history = useHistory();\r\n    const [image, setImage] = useState(\"https://fakeimg.pl/350x200/\");\r\n    const [saveImage, setSaveImage] = useState(null);\r\n    const [formData,setFormData] = useState({\r\n        title:'',\r\n        purchasePrice: \"\",\r\n        purchaseSell: \"\",\r\n        stock:\"\",\r\n    })\r\n   \r\n    const handleChange = (e)=> { \r\n        setFormData({...formData,[e.target.name]:e.target.value})\r\n    }\r\n\r\n    function handleUploadChange(e) {\r\n        let uploaded = e.target.files[0];\r\n        setImage(URL.createObjectURL(uploaded));\r\n        setSaveImage(uploaded);\r\n    }\r\n\r\n\r\n    const handleAdd = async(e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const formdata = new URLSearchParams()\r\n            Object.keys(formData).map((key)=> {\r\n                formdata.append(key,formData[key])\r\n            })\r\n\r\n            Object.keys(formData).map((key)=> {\r\n                if(formData[key] === \"\"){\r\n                    Reflect.deleteProperty(formData,key)\r\n                }\r\n            })\r\n\r\n            if(Object.keys(formData).length  === 4){\r\n                await new ApiService({\r\n                    url:\"/api/v1/goods\",\r\n                    body:formdata\r\n                })\r\n                .post()\r\n                .then((response)=> {\r\n                      \r\n                    if(!response?.error){\r\n                        if(saveImage){\r\n                            handleUpdate(response.data.id)\r\n                        }else{\r\n                            alert(\"Success Updated!\")\r\n                            history.push(\"/\")\r\n                        }\r\n                    }else{\r\n                        alert(response?.message ?? \"Some Error\")\r\n                    }\r\n                })\r\n                .catch((err)=> {\r\n                    alert(err.message)\r\n                })\r\n            }else{\r\n                alert(\"Some Error!\")\r\n            }\r\n\r\n\r\n           \r\n        } catch (error) {\r\n            if (error.response) {\r\n                setMsg(error.response.errors);\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleUpdate = async (id)=> {\r\n        console.log(saveImage);\r\n        const upload = new FormData();\r\n        upload.append(\"image\", saveImage);\r\n        await new ApiService({\r\n            url:`/api/v1/goods/image/${id}`,\r\n            body: upload\r\n        })\r\n        .put()\r\n        .then((response)=> {\r\n            if(!response?.error){\r\n                history.push('/')\r\n            }\r\n        })\r\n        .catch((err)=> {\r\n\r\n        })\r\n    \r\n    }\r\n\r\n    return loading ? \"Loading...\" :(\r\n        <div>\r\n            <Navbar/>\r\n            <div className=\"container mt-5\">\r\n                \r\n                <div className=\"container\">\r\n                    <div className=\"columns is-centered\">\r\n                        <div className=\"column is-4-desktop\">\r\n                            <form onSubmit={handleAdd} className=\"box\">\r\n                                <p className=\"has-text-centered\">{msg}</p>\r\n                                <div className=\"field mt-5\">\r\n                                <label className=\"label\">Gambar Barang</label>\r\n                                <div>\r\n            <img src={image} className=\"img-thumbnail\" alt=\"...\" />\r\n          </div>\r\n                                    <div className=\"file has-name is-fullwidth\">\r\n                                        <label className=\"file-label\">\r\n                                            <input className=\"file-input\" name=\"image\" onChange={handleUploadChange}  type=\"file\" />\r\n                                            <span className=\"file-cta\">\r\n                                            <span className=\"file-icon\">\r\n                                                <i className=\"fas fa-upload\"></i>\r\n                                            </span>\r\n                                            <span className=\"file-label\">\r\n                                                Choose a file…\r\n                                            </span>\r\n                                            </span>\r\n                                            <span className=\"file-name\">\r\n                                            ....\r\n                                            </span>\r\n                                        </label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"field mt-5\">\r\n                                    <label className=\"label\">Nama Barang</label>\r\n                                    <div className=\"controls\">\r\n                                        <input type=\"text\" className=\"input\" placeholder=\"Nama Barang\"\r\n                                             name=\"title\"  onChange={handleChange} />\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                                <div className=\"field mt-5\">\r\n                                    <label className=\"label\">Harga Beli</label>\r\n                                    <div className=\"controls\">\r\n                                        <input type=\"number\" className=\"input\" placeholder=\"Harga Beli\" name=\"purchasePrice\"  onChange={handleChange} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"field mt-5\">\r\n                                    <label className=\"label\">Harga Jual</label>\r\n                                    <div className=\"controls\">\r\n                                        <input type=\"number\" className=\"input\" placeholder=\"Harga Jual\" name=\"purchaseSell\"  onChange={handleChange} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"field mt-5\">\r\n                                    <label className=\"label\">Stok</label>\r\n                                    <div className=\"controls\">\r\n                                        <input type=\"number\" className=\"input\" placeholder=\"Stok\" name=\"stock\" onChange={handleChange} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"field mt-5\">\r\n                                    <button className=\"button is-success is-fullwidth\">Submit</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default ProductAdd"],"sourceRoot":""}